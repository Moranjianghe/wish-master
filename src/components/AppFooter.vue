<script setup>
import { ref } from 'vue';

// æ§åˆ¶æ¨¡æ€æ¡†çš„æ˜¾ç¤ºçŠ¶æ€
const showSupport = ref(false);

const toggleSupport = () => {
  showSupport.value = !showSupport.value;
};

// ç‚¹å‡»é®ç½©å±‚å…³é—­ï¼ˆå®ç°å¤±ç„¦æ¶ˆå¤±ï¼‰
const closeSupport = () => {
  showSupport.value = false;
};
</script>

<template>
  <footer class="app-footer">
    <div class="divider"></div>
    <div class="system-log">
      <span class="log-tag">[ System Patch v1.2 ]</span>
      <p>
        å› æœå¾‹ç¨³å‹å™¨å·²ä¸Šçº¿ã€‚é˜²æ­¢ç°å®æ‰­æ›²åœºè¿‡è½½ã€‚
      </p>
    </div>

    <div class="hidden-protocol" @click="toggleSupport" title="å»ºç«‹è¿æ¥">
      [ <span class="protocol-icon">âš¡</span> æ”¯æŒ/è¿æ¥ <span class="protocol-icon">âš¡</span>]
    </div>

    <div class="disclaimer">
      æ‰€æœ‰çš„æ„¿æœ›éƒ½å·²åœ¨æš—ä¸­æ ‡å¥½äº†ä»£ä»·ã€‚æœ¬ç³»ç»ŸåŸºäºé€»è¾‘æ¨æ¼”ï¼Œä¸æ‰¿æ‹…ä»»ä½•å› æœè´£ä»»ã€‚<br>
      æ™ºæ…§æ¥æºï¼šDeepSeek-V3
    </div>

    <div class="copyright">
      Â© 2026 å®Œç¾è®¸æ„¿å™¨ |
      <a href="https://github.com/senzi/wish-master" target="_blank">
        GitHub Source
      </a>
      |
      <a href="https://weibo.com/u/7402396589" target="_blank">
        @é˜¿å°¼äºšæ˜¯å®‰å¦®äº
      </a>
    </div>

    <div class="warning-text">CAVEAT EMPTOR</div>



    <Transition name="fade">
      <div v-if="showSupport" class="support-modal-mask" @click.self="closeSupport">
        <div class="support-modal">
          <div class="modal-header">
            <h3>/// å»ºç«‹ç¥ç»è¿æ¥ ///</h3>
            <p class="modal-intro">
              æ— éœ€å¥‘çº¦ï¼Œä¹Ÿæ²¡æœ‰çµé­‚äº¤æ˜“ã€‚<br>
              åªæ˜¯ä¸ºäº†åœ¨åºå¤§çš„æ•°æ®æ´ªæµä¸­ï¼Œæ‰¾åˆ°åŒé¢‘çš„ä¿¡å· w<br>
              å¦‚æœä½ è§‰å¾—â€œå®Œç¾è®¸æ„¿å™¨â€æœ‰è¶£ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥å…¥ç»ˆç«¯ï¼š
            </p>
          </div>

          <div class="support-options">
            <a href="https://vipclub.weibo.com/vmember/gfopend?F=profile&vuid=7402396589" target="_blank"
              class="option-card highlight">
              <div class="card-icon">ğŸŒ€</div>
              <div class="card-content">
                <div class="card-title">æ½œå…¥å†…éƒ¨åœˆå­</div>
                <div class="card-desc">åŠ å…¥å¾®åšä¸“å±ç¤¾ç¾¤ï¼Œä¸æ›´å¤šæœ‰è¶£çš„çµé­‚é—²èŠï¼Œæˆ–è®¸èƒ½å‘ç°ç³»ç»Ÿçš„åé—¨ w</div>
                <div class="card-meta">ACCESS: YEARLY PASS</div>
              </div>
            </a>

            <div class="option-card donation-complex">
              <a href="https://weibo.com/7402396589/QlQNWszJ0" target="_blank" class="donation-link-part">
                <div class="card-icon">â˜•</div>
                <div class="card-content">
                  <div class="card-title">
                    æŠ•å–‚å•æ¬¡è¡¥ç»™
                    <span class="link-arrow">â†—</span>
                  </div>
                  <div class="card-desc">ç‚¹å‡»å‰å¾€å¾®åšæ‰“èµï¼Œæˆ–å‘ä¸‹æŸ¥çœ‹äºŒç»´ç  w</div>
                  <div class="card-meta">DONATION: OPEN</div>
                </div>
              </a>

              <div class="donation-divider"></div>

              <div class="donation-qr-part">
                <img src="/sponsor.png" alt="Sponsor QR" class="mini-qr">
                <span class="qr-hint">WeChat Scan / å¾®ä¿¡æ‰«ç </span>
              </div>
            </div>

            <a href="https://weibo.com/u/7402396589" target="_blank" class="option-card">
              <div class="card-icon">ğŸ‘ï¸</div>
              <div class="card-content">
                <div class="card-title">æˆä¸ºè§‚æµ‹è€…</div>
                <div class="card-desc">å…³æ³¨æœ¬èº«å°±æ˜¯ä¸€ç§é‡å­çº ç¼ ã€‚ä½ çš„æ³¨è§†èƒ½è®©è¿™ä¸ªä¸ç¨³å®šçš„ç³»ç»Ÿæ›´åŠ â€œå­˜åœ¨â€ã€‚</div>
                <div class="card-meta">STATUS: FOLLOW</div>
              </div>
            </a>
          </div>

          <div class="modal-footer">
            ç‚¹å‡»ä»»æ„ç©ºç™½å¤„æ–­å¼€è¿æ¥...
          </div>
        </div>
      </div>
    </Transition>
  </footer>
</template>

<style scoped>
/* åŸæœ‰æ ·å¼ä¿æŒä¸å˜ */
.app-footer {
  margin-top: auto;
  padding: 2rem 0;
  background-color: transparent;
  color: #7f8c8d;
  font-size: 12px;
  text-align: center;
  width: 100%;
  position: relative;
}

.divider {
  height: 1px;
  border-top: 1px dashed #ddd;
  margin-bottom: 1.5rem;
  width: 100%;
}

.system-log {
  margin-bottom: 0.5rem;
  font-family: 'Courier New', Courier, monospace;
  font-size: 11px;
  color: #95a5a6;
  background-color: rgba(0, 0, 0, 0.02);
  padding: 10px;
  border-radius: 4px;
  display: inline-block;
  max-width: 100%;
}

.log-tag {
  color: #c0392b;
  font-weight: bold;
  display: block;
  margin-bottom: 4px;
  letter-spacing: 1px;
}

.creepy-note {
  display: block;
  margin-top: 4px;
  font-size: 10px;
  color: #bdc3c7;
  font-style: italic;
  transform: scale(0.95);
  transition: all 0.5s ease;
}

.system-log:hover .creepy-note {
  color: #8e44ad;
  text-shadow: 0 0 5px rgba(142, 68, 173, 0.3);
}

.disclaimer {
  margin-bottom: 0.8rem;
  line-height: 1.8;
  font-style: italic;
}

.copyright {
  line-height: 1.5;
  letter-spacing: 1px;
}

.copyright a {
  color: #2c3e50;
  text-decoration: none;
  border-bottom: 1px solid #bdc3c7;
  transition: all 0.3s ease;
}

.copyright a:hover {
  color: #8e44ad;
  border-bottom-color: #8e44ad;
}

.warning-text {
  margin-top: 1rem;
  font-size: 10px;
  letter-spacing: 4px;
  color: #bdc3c7;
  font-weight: bold;
}

@media (max-width: 768px) {
  .app-footer {
    padding: 1.5rem 10px;
  }
}

/* =========================================
   æ–°å¢æ ·å¼ï¼šéšè—åè®®ä¸æ¨¡æ€æ¡†
   ========================================= */

/* ä¿®æ”¹åçš„æ ·å¼ */
.hidden-protocol {
  /* 1. è®©å®ƒç‹¬å ä¸€è¡Œï¼Œè§£å†³ä¸æ¢è¡Œçš„é—®é¢˜ */
  display: block; 
  
  /* 2. è®©å®½åº¦é€‚åº”å†…å®¹ï¼Œè€Œä¸æ˜¯æ’‘æ»¡æ•´è¡Œï¼ˆä¿æŒæŒ‰é’®çš„ç´§å‡‘æ„Ÿï¼‰ */
  width: fit-content; 
  
  /* 3. å› ä¸ºå˜æˆäº† blockï¼Œéœ€è¦ç”¨ margin auto æ¥å±…ä¸­ */
  margin: 10px auto; 
  
  /* ...ä»¥ä¸‹ä¿æŒåŸæ ·... */
  font-size: 10px;
  color: #95a5a6;
  cursor: pointer;
  opacity: 0.8;
  transition: all 0.3s ease;
  letter-spacing: 1.5px;
  font-family: 'Courier New', monospace;
  padding: 5px;
}

/* äº¤äº’åé¦ˆï¼šåªæœ‰æŒ‰ä¸‹å»æˆ–è€…é¼ æ ‡æ”¾ä¸Šå»æ‰ä¼šå˜è‰² */
.hidden-protocol:hover,
.hidden-protocol:active {
  color: #8e44ad;
  text-shadow: 0 0 8px rgba(142, 68, 173, 0.4);
  transform: scale(1.02);
  /* å¾®å¾®æ”¾å¤§ï¼Œæ›´æœ‰æŒ‰é”®æ„Ÿ */
}

.protocol-icon {
  margin-right: 2px;
  opacity: 0.7;
  /* å›¾æ ‡ç¨å¾®æš—ä¸€ç‚¹ */
}

/* æ¨¡æ€æ¡†é®ç½© */
.support-modal-mask {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(5px);
  z-index: 9999;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

/* æ¨¡æ€æ¡†ä¸»ä½“ */
.support-modal {
  background: #fff;
  width: 100%;
  max-width: 400px;
  border-radius: 12px;
  box-shadow: 0 15px 50px rgba(0, 0, 0, 0.3);
  overflow: hidden;
  border: 1px solid rgba(142, 68, 173, 0.2);
  animation: modalSlideUp 0.3s ease-out;
  text-align: left;
}

.modal-header {
  padding: 20px 20px 10px;
  background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
  border-bottom: 1px solid #eee;
}

.modal-header h3 {
  margin: 0 0 10px 0;
  font-size: 16px;
  color: #2c3e50;
  font-weight: bold;
  letter-spacing: 1px;
}

.modal-intro {
  font-size: 12px;
  color: #7f8c8d;
  line-height: 1.6;
  margin: 0;
}

.support-options {
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  background-color: #fff;
}

.option-card {
  display: flex;
  align-items: flex-start;
  padding: 12px;
  border: 1px solid #eee;
  border-radius: 8px;
  text-decoration: none;
  transition: all 0.2s ease;
  background: #fafafa;
}

.option-card:hover {
  transform: translateY(-2px);
  border-color: #8e44ad;
  box-shadow: 0 4px 12px rgba(142, 68, 173, 0.1);
  background: #fff;
}

.card-icon {
  font-size: 20px;
  margin-right: 12px;
  padding-top: 2px;
}

.card-content {
  flex: 1;
}

.card-title {
  font-size: 14px;
  font-weight: bold;
  color: #2c3e50;
  margin-bottom: 4px;
}

.card-desc {
  font-size: 11px;
  color: #95a5a6;
  line-height: 1.4;
  margin-bottom: 6px;
}

.card-meta {
  font-size: 9px;
  color: #8e44ad;
  font-family: 'Courier New', monospace;
  font-weight: bold;
  opacity: 0.8;
}

.modal-footer {
  padding: 10px;
  text-align: center;
  font-size: 10px;
  color: #bdc3c7;
  background: #fafafa;
  border-top: 1px solid #eee;
}

@keyframes modalSlideUp {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.3s ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

/* è¦†ç›–é»˜è®¤çš„ option-card å¸ƒå±€ï¼Œæ”¹ä¸ºå‚ç›´æ’åˆ— */
.option-card.donation-complex {
  display: flex;
  flex-direction: column;
  padding: 0;
  /* æ¸…é™¤é»˜è®¤å†…è¾¹è·ï¼Œç”±å†…éƒ¨æ§åˆ¶ */
  gap: 0;
  cursor: default;
  /* å¤–å±‚ä¸æ˜¾ç¤ºæ‰‹å‹ï¼Œæ‰‹å‹ç»™é“¾æ¥éƒ¨åˆ† */
  overflow: hidden;
  /* ä¿è¯åœ†è§’ */
  background: #fff;
  transition: box-shadow 0.3s ease;
}

/* é¼ æ ‡æ”¾ä¸Šå»æ—¶ï¼Œæ•´ä½“ç¨å¾®æµ®èµ·ä¸€ç‚¹ç‚¹ */
.donation-complex:hover {
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
  border-color: #bdc3c7;
  transform: translateY(-2px);
}

/* ä¸ŠåŠéƒ¨åˆ†ï¼šé“¾æ¥åŒºåŸŸ */
.donation-link-part {
  display: flex;
  align-items: flex-start;
  padding: 12px;
  text-decoration: none;
  width: 100%;
  transition: background-color 0.2s ease;
}

/* é“¾æ¥åŒºåŸŸçš„ Hover æ•ˆæœ */
.donation-link-part:hover {
  background-color: #f8f9fa;
}

.donation-link-part:hover .card-title {
  color: #8e44ad;
}

.link-arrow {
  font-size: 10px;
  margin-left: 4px;
  opacity: 0.5;
}

/* åˆ†å‰²çº¿ï¼šè™šçº¿ï¼Œå†…æ•›çš„å…³é”® */
.donation-divider {
  width: 90%;
  height: 1px;
  border-top: 1px dashed #eee;
  margin: 0 auto;
}

/* ä¸‹åŠéƒ¨åˆ†ï¼šäºŒç»´ç åŒºåŸŸ */
.donation-qr-part {
  padding: 12px;
  display: flex;
  flex-direction: column;
  /* å‚ç›´æ’åˆ—å›¾ç‰‡å’Œæ–‡å­— */
  align-items: center;
  background-color: #fff;
}

/* äºŒç»´ç å›¾ç‰‡ï¼šå°å·§ç²¾è‡´ */
.mini-qr {
  width: 100px;
  /* æ§åˆ¶åœ¨ 100pxï¼Œéå¸¸å†…æ•› */
  height: 100px;
  object-fit: contain;
  border-radius: 6px;
  margin-bottom: 6px;
  opacity: 0.9;
  transition: all 0.3s ease;
}

/* é¼ æ ‡æ‚¬åœäºŒç»´ç æ—¶ï¼Œç¨å¾®æ¸…æ™°ä¸€ç‚¹ï¼Œæš—ç¤ºå¯äº¤äº’ */
.donation-qr-part:hover .mini-qr {
  opacity: 1;
  transform: scale(1.05);
}

.qr-hint {
  font-size: 9px;
  color: #bdc3c7;
  font-family: 'Courier New', monospace;
  letter-spacing: 1px;
  transform: scale(0.9);
  /* å­—ä½“å†å°ä¸€ç‚¹ */
}
</style>